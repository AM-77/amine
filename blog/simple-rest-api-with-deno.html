<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="title" content="Mohamed Amine Griche">
		<meta name="description" content="Mohamed Amine Griche - Software engineer">
		<meta name="keywords" content="Mohamed Amine Griche, Software engineer, JavaScript, TypeScript, Frontend, Developer">
		<meta name="robots" content="index, follow">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="language" content="English">
		<meta name="author" content="Mohamed Amine Griche">
		<title>Mohamed Amine Griche</title>

		
		<link href="../_app/immutable/assets/0.e5682f18.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.e38b7577.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.fbbdd111.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons.522425a4.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.32a55fea.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/preload-helper.41c905a7.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.81fbe9d9.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/stores.aa0f9728.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/4.ebbef51d.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/dynamic-import-helper.be004503.js">

		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&family=Share+Tech+Mono&family=Syne:wght@400;500&display=swap" rel="stylesheet"/>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">


<div><div class="flex w-screen h-screen justify-center overflow-y-scroll bg-gray-100 dark:bg-neutral-900"><div class="w-full max-w-5xl h-full"><div class="fixed top-0 w-full max-w-5xl"><div class="flex h-12 items-center backdrop-blur-md border-b border-x-0 lg:border-x border-gray-900 dark:border-gray-100"><div class="flex justify-center items-center w-12 h-12 border-r border-gray-900 dark:border-gray-100"><a href="/" class="flex justify-center items-center w-12 h-12 cursor-pointer hover:animate-pulse"><img src="/logo.svg" class="w-6 h-6" alt=""></a></div>

	<div class="flex h-full gap-3 lg:gap-6 items-center ml-auto mr-auto lg:mr-4"><a class="link text-gray-900 dark:text-gray-100 svelte-l7mpdx" href="/">home

	
</a>
		<a class="link text-gray-900 dark:text-gray-100 svelte-l7mpdx" href="/portfolio">portfolio

	
</a>
		<a class="link text-gray-900 dark:text-gray-100 svelte-l7mpdx active" href="/blog">blog

	<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round" class="absolute top-1.5 -left-3 hidden lg:block svelte-l7mpdx active-icon active"><path d="M11.029 2.54a2 2 0 0 1 1.942 0l7 3.888A2 2 0 0 1 21 8.177v7.646a2 2 0 0 1-1.029 1.748l-7 3.89a2 2 0 0 1-1.942 0l-7-3.89A2 2 0 0 1 3 15.824V8.177a2 2 0 0 1 1.029-1.749l7-3.888z"></path></svg>
</a>
		<a class="link text-gray-900 dark:text-gray-100 svelte-l7mpdx" href="/til">til

	
</a>
		<a class="link text-gray-900 dark:text-gray-100 svelte-l7mpdx" href="/contact">contact

	
</a></div>

	<button class="w-12 h-12 border-l border-gray-900 dark:border-gray-100 cursor-pointer"><svg class="w-full h-full p-3 text-yellow-300 hover:animate-spin" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3V2m0 20v-1m9-9h1M2 12h1m15.5-6.5L20 4M4 20l1.5-1.5M4 4l1.5 1.5m13 13L20 20"></path><circle cx="12" cy="12" r="4"></circle></svg></button></div></div>
			<div class="min-h-[calc(100%-49px)] py-12"><article class="flex flex-col"><div class="flex justify-between items-center p-4 lg:p-12 flex-col lg:flex-row text-center lg:text-left"><h1 class="text-3xl font-syne font-semibold text-gray-900 dark:text-gray-100">Simple Rest API With Deno</h1>
		<span class="text-sm font-syne text-neutral-600 dark:text-neutral-200">14/05/2020</span></div>
	<div class="blog-post dark:blog-post-dark p-4 lg:p-12"><h1 id="deno-v10"><a aria-hidden="true" tabindex="-1" href="#deno-v10"><span class="icon icon-link"></span></a>Deno v1.0</h1>
<img src="/blog/images/simple-rest-api-with-deno/logo.svg" alt="Deno's logo" width="200" height="200">
<p>After 2 years of its first release, Deno v1.0 is finally here.</p>
<h2 id="so-what-is-deno-anyway-"><a aria-hidden="true" tabindex="-1" href="#so-what-is-deno-anyway-"><span class="icon icon-link"></span></a>So, what is Deno anyway ?</h2>
<blockquote><p>Deno is a simple, modern and secure runtime for JavaScript and TypeScript that uses V8 and is built in Rust. <a href="http://deno.land" rel="nofollow">Deno‚Äôs official website</a></p></blockquote>
<p>Ryan Dahl the original creator of Node.js (the popular server-side JavaScript runtime) announced Deno at JSConf EU 2018 <a href="https://youtu.be/M3BM9TB-8yA" rel="nofollow">on is his talk</a> titled ‚Äú10 Things I Regret About Node.js‚Äù ( From the title you can see where are we heading to ). In another word, if you are familiar with Node.js then Deno is just like that. Except that it‚Äôs improved in many ways, it‚Äôs created from bottom to top to be a better implementation of Node.js.</p>
<h2 id="simple-comparison-with-nodejs"><a aria-hidden="true" tabindex="-1" href="#simple-comparison-with-nodejs"><span class="icon icon-link"></span></a>Simple comparison with Node.js</h2>
<p>Since Deno and Node.js serve the same purpose, it‚Äôs possible to compare the two directly.</p>
<table><thead><tr><th></th>
<th align="center">Node</th>
<th align="center">Deno</th></tr></thead>
<tbody><tr><td>Engine</td>
<td align="center">V8</td>
<td align="center">V8</td></tr>
<tr><td>Written in</td>
<td align="center">C++ &amp; JavaScript</td>
<td align="center">Rust &amp; Typescript</td></tr>
<tr><td>Package managing</td>
<td align="center">package managers: npm</td>
<td align="center">uses URLs</td></tr>
<tr><td>Importing pacakges</td>
<td align="center">CommonJS syntax</td>
<td align="center">ES Modules</td></tr>
<tr><td>Security</td>
<td align="center">full access</td>
<td align="center">permissioned access</td></tr>
<tr><td>TypeScript support</td>
<td align="center">not built in</td>
<td align="center">built in</td></tr></tbody></table>
<h2 id="a-deno-tutorial"><a aria-hidden="true" tabindex="-1" href="#a-deno-tutorial"><span class="icon icon-link"></span></a>A Deno tutorial</h2>
<p>Let‚Äôs play a little bit with Deno.</p>
<h3 id="denos-installation"><a aria-hidden="true" tabindex="-1" href="#denos-installation"><span class="icon icon-link"></span></a>Deno‚Äôs Installation</h3>
<p>To install Deno just copy and paste this command line in your terminal.</p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://deno.land/x/install/install.sh <span class="token operator">|</span> <span class="token function">sh</span></code><!-- HTML_TAG_END --></pre>
<p><em>For more details check <a href="https://github.com/denoland/deno_install" rel="nofollow">Deno‚Äôs official installation guide.</a></em></p>
<p>When it‚Äôs done, you will have access to the <code>deno</code> command.</p>
<p>You can run <code>deno --help</code> to get the list of the options and subcommands provided by Deno, and you can run <code>deno &lt;subcommand&gt; --help</code> to get additional informations specific the subcommand for example: <code>deno run --help</code></p>
<p>Now you can run <code>deno</code> or <code>deno repl</code> to open the REPL (Read-Execute-Print-Loop) and start typing some Javascript</p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash">$ deno repl
Deno <span class="token number">1.0</span>.0
<span class="token builtin class-name">exit</span> using ctrl+d or close<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">></span> console.log<span class="token punctuation">(</span><span class="token string">"Hello World !"</span><span class="token punctuation">)</span>
Hello World <span class="token operator">!</span></code><!-- HTML_TAG_END --></pre>
<p>For the mean time (depending on when you‚Äôre reading this) on <strong>May 14 2020</strong> the REPL supports only Javascript:</p>
<blockquote><p>There are many things we can do to improve the REPL without introducing the TS compiler. We should do those things first (e.g. improve inspect, tab completion). Once we‚Äôre on par with Node‚Äôs REPL, we can start looking into how to go beyond that by using typescript. <a href="https://github.com/denoland/deno/pull/3760#issuecomment-590472390" rel="nofollow">Ryan Dahl‚Äôs comment on TypeScript support in REPL</a></p></blockquote>
<h3 id="run-a-deno-app"><a aria-hidden="true" tabindex="-1" href="#run-a-deno-app"><span class="icon icon-link"></span></a>Run a Deno app</h3>
<p>Use <code>deno run &lt;entry-point&gt;</code> command to launch a Deno app.</p>
<p>The entry point can be <code>.js</code> file, <code>.ts</code> file or even a URL that points to an app entry point and Deno will download, compile and then run it for you:</p>
<p>for example: s</p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash">$ deno run https://deno.land/std/examples/welcome.ts
Download https://deno.land/std/examples/welcome.ts
Compile https://deno.land/std/examples/welcome.ts
Welcome to Deno ü¶ï</code><!-- HTML_TAG_END --></pre>
<p>If you run the program again, it gets compiled directly it does not need to be downloaded again, it‚Äôs now cached by Deno:</p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash">$ deno run https://deno.land/std/examples/welcome.ts
Compile https://deno.land/std/examples/welcome.ts
Welcome to Deno ü¶ï</code><!-- HTML_TAG_END --></pre>
<p>You can force a reload of the original source with the <code>--reload</code> flag</p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash">deno run <span class="token parameter variable">--reload</span> https://deno.land/std/examples/welcome.ts</code><!-- HTML_TAG_END --></pre>
<p>And If you open the <a href="https://deno.land/std/examples/welcome.ts" rel="nofollow">https://deno.land/std/examples/welcome.ts</a> URL with
the browser, you‚Äôll get the page that contains the code and it‚Äôs documentation.</p>
<p><strong>The Deno website provides other examples in the <a href="https://deno.land/std/examples/" rel="nofollow">examples page</a>.</strong></p>
<h3 id="lets-build-a-simple-rest-api"><a aria-hidden="true" tabindex="-1" href="#lets-build-a-simple-rest-api"><span class="icon icon-link"></span></a>Let‚Äôs build a simple REST API</h3>
<p>We are going to use <a href="https://oakserver.github.io/oak/" rel="nofollow">oak framework</a> and Typescript (you can also use Javascript if you want to)</p>
<p>Let‚Äôs start by creating an app.ts file and import the <code>Application</code> and <code>server</code> from <a href="https://deno.land/x/oak/mod.ts" rel="nofollow">https://deno.land/x/oak/mod.ts</a></p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Application <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'https://deno.land/x/oak/mod.ts'</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>then we need to set the environment variables <code>HOST</code> and <code>PORT</code></p>
<pre class="language-typescript"><!-- HTML_TAG_START --><code class="language-typescript"><span class="token keyword">const</span> env <span class="token operator">=</span> Deno<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token function">toObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">HOST</span> <span class="token operator">=</span> env<span class="token punctuation">.</span><span class="token constant">HOST</span> <span class="token operator">||</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">7700</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>Now create the routes.ts file import <code>Router</code> from <a href="https://deno.land/x/oak/mod.ts" rel="nofollow">https://deno.land/x/oak/mod.ts</a> and create the routes.</p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Router <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'https://deno.land/x/oak/mod.ts'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> getBooks<span class="token punctuation">,</span> getBook<span class="token punctuation">,</span> addBook<span class="token punctuation">,</span> updateBook<span class="token punctuation">,</span> deleteBook <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./controller.ts'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
router
	<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/books'</span><span class="token punctuation">,</span> getBooks<span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/books/:isbn'</span><span class="token punctuation">,</span> getBook<span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/books'</span><span class="token punctuation">,</span> addBook<span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">'/books/:isbn'</span><span class="token punctuation">,</span> updateBook<span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'/books/:isbn'</span><span class="token punctuation">,</span> deleteBook<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>NOTE: the functions <code>getBooks</code>, <code>getBook</code>, <code>addBook</code>, <code>updateBook</code> and <code>deleteBook</code> are imported from a local file, it‚Äôs just we haven‚Äôt created them yet.</p>
<p>Let‚Äôs create the controller.ts file and define an interface for a book <code>IBook</code>, then we declare an initial array of book objects:</p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token keyword">interface</span> <span class="token class-name">IBook</span> <span class="token punctuation">&#123;</span>
	<span class="token literal-property property">isbn</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
	<span class="token literal-property property">author</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
	<span class="token literal-property property">title</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> <span class="token literal-property property">books</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>IBook<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span>
	<span class="token punctuation">&#123;</span>
		<span class="token literal-property property">isbn</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token string">'Robin Wieruch'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'The Road to React'</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#123;</span>
		<span class="token literal-property property">isbn</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token string">'Kyle Simpson'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"You Don't Know JS: Scope &amp; Closures"</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#123;</span>
		<span class="token literal-property property">isbn</span><span class="token operator">:</span> <span class="token string">'3'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token string">'Andreas A. Antonopoulos'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Mastering Bitcoin'</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p>Now let‚Äôs implement the functions one by one</p>
<p>getBooks: returns all the books on the list.</p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">getBooks</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> response <span class="token punctuation">&#125;</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">response</span><span class="token operator">:</span> any <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
	response<span class="token punctuation">.</span>body <span class="token operator">=</span> books<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p><img src="/blog/images/simple-rest-api-with-deno/getBooks.png" alt="getBooks"></p>
<p>getBook: returns a single book by its isbn, or error message if not found.</p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">getBook</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> params<span class="token punctuation">,</span> response <span class="token punctuation">&#125;</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">isbn</span><span class="token operator">:</span> string <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token literal-property property">response</span><span class="token operator">:</span> any <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">const</span> <span class="token literal-property property">book</span><span class="token operator">:</span> IBook <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token function">searchBookByIsbn</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>book<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		response<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
		response<span class="token punctuation">.</span>body <span class="token operator">=</span> books<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
		response<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">404</span><span class="token punctuation">;</span>
		response<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">Book not found.</span><span class="token template-punctuation string">&#96;</span></span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p><img src="/blog/images/simple-rest-api-with-deno/getBook.png" alt="getBook"></p>
<p>addBook: add a book to the books list.</p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">addBook</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> request<span class="token punctuation">,</span> response <span class="token punctuation">&#125;</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">request</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">response</span><span class="token operator">:</span> any <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">const</span> body <span class="token operator">=</span> <span class="token keyword">await</span> request<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> <span class="token literal-property property">book</span><span class="token operator">:</span> IBook <span class="token operator">=</span> body<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
	books<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
	response<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'OK'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	response<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p><img src="/blog/images/simple-rest-api-with-deno/addBook.png" alt="addBook"></p>
<p><img src="/blog/images/simple-rest-api-with-deno/afterAddBook.png" alt="afterAddBook"></p>
<p>updateBook: updates a book if exists, return error message if not.</p>
<pre class="language-js"><!-- HTML_TAG_START --><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">updateBook</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span>
	params<span class="token punctuation">,</span>
	request<span class="token punctuation">,</span>
	response
<span class="token punctuation">&#125;</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
	<span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">isbn</span><span class="token operator">:</span> string <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">request</span><span class="token operator">:</span> any<span class="token punctuation">,</span>
	<span class="token literal-property property">response</span><span class="token operator">:</span> any
<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">let</span> <span class="token literal-property property">book</span><span class="token operator">:</span> IBook <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token function">searchBookByIsbn</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>book<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">const</span> body <span class="token operator">=</span> <span class="token keyword">await</span> request<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> <span class="token literal-property property">updateInfos</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> author<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span> title<span class="token operator">?</span><span class="token operator">:</span> string <span class="token punctuation">&#125;</span> <span class="token operator">=</span> body<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
		book <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span>book<span class="token punctuation">,</span> <span class="token operator">...</span>updateInfos <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
		books <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>books<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">book</span><span class="token punctuation">)</span> <span class="token operator">=></span> book<span class="token punctuation">.</span>isbn <span class="token operator">!==</span> params<span class="token punctuation">.</span>isbn<span class="token punctuation">)</span><span class="token punctuation">,</span> book<span class="token punctuation">]</span><span class="token punctuation">;</span>
		response<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
		response<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'OK'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
		response<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">404</span><span class="token punctuation">;</span>
		response<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">Book not found</span><span class="token template-punctuation string">&#96;</span></span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p><img src="/blog/images/simple-rest-api-with-deno/updateBook.png" alt="updateBook"></p>
<p><img src="/blog/images/simple-rest-api-with-deno/afterUpdateBook.png" alt="afterUpdateBook"></p>
<p>deleteBook: deletes a book from the books list.</p>
<pre class="language-javascript"><!-- HTML_TAG_START --><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">deleteBook</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> params<span class="token punctuation">,</span> response <span class="token punctuation">&#125;</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">isbn</span><span class="token operator">:</span> string <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token literal-property property">response</span><span class="token operator">:</span> any <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
	books <span class="token operator">=</span> books<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">book</span><span class="token punctuation">)</span> <span class="token operator">=></span> book<span class="token punctuation">.</span>isbn <span class="token operator">!==</span> params<span class="token punctuation">.</span>isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>
	response<span class="token punctuation">.</span>body <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'OK'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
	response<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre>
<p><img src="/blog/images/simple-rest-api-with-deno/deleteBook.png" alt="deleteBook"></p>
<p><img src="/blog/images/simple-rest-api-with-deno/afterDeleteBook.png" alt="afterDeleteBook"></p>
<p><strong>Here is the <a href="https://github.com/AM-77/deno-rest-api" rel="nofollow">source code on github</a></strong></p>
<h2 id="you-want-more-of-deno-"><a aria-hidden="true" tabindex="-1" href="#you-want-more-of-deno-"><span class="icon icon-link"></span></a>You want more of Deno ?</h2>
<p>Here is some resources: <a href="https://deno.land" rel="nofollow">Deno‚Äôs official website</a>, <a href="https://doc.deno.land" rel="nofollow">The API documentation</a> and you can find a lot more resources, libraries and frameworks in the <a href="https://github.com/denolib/awesome-deno" rel="nofollow">Deno‚Äôs awesome list</a>.</p></div></article></div>
			<div class="fixed bottom-0 w-full max-w-5xl"><div class="flex items-center backdrop-blur-md justify-between h-12 border-t border-x-0 lg:border-x border-gray-900 dark:border-gray-100"><div class="flex"><a class="icon dark:border-gray-100 dark:text-gray-100 svelte-v3mbcg" href="https://github.com/AM-77"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke-width="2"><g clip-path="url(#clip0_100_4)"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0 0 24 12c0-6.63-5.37-12-12-12z"></path></g></svg></a>

		<a class="icon dark:border-gray-100 dark:fill-gray-100 svelte-v3mbcg" href="https://gitlab.com/amine-griche"><svg width="24px" height="24px" viewBox="-2 -2.5 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10.006 18.443L6.326 7.118h7.36l-3.68 11.325zm0 0L1.168 7.118h5.158l3.68 11.325zM1.168 7.118l8.838 11.325-9.68-7.032a.762.762 0 0 1-.276-.852l1.118-3.441zm0 0L3.385.296a.38.38 0 0 1 .724 0l2.217 6.822H1.168zm8.838 11.325l3.68-11.325h5.157l-8.837 11.325zm8.837-11.325l1.119 3.441a.762.762 0 0 1-.277.852l-9.68 7.032 8.838-11.325zm0 0h-5.157L15.902.296a.38.38 0 0 1 .725 0l2.216 6.822z"></path></svg></a>

		<a class="icon dark:border-gray-100 dark:text-gray-100 w-6 h-6 svelte-v3mbcg" href="https://www.linkedin.com/in/mohamed-amine-griche"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke-width="2"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 2.838A1.838 1.838 0 0 1 2.838 1H21.16A1.837 1.837 0 0 1 23 2.838V21.16A1.838 1.838 0 0 1 21.161 23H2.838A1.838 1.838 0 0 1 1 21.161V2.838zm8.708 6.55h2.979v1.496c.43-.86 1.53-1.634 3.183-1.634 3.169 0 3.92 1.713 3.92 4.856v5.822h-3.207v-5.106c0-1.79-.43-2.8-1.522-2.8-1.515 0-2.145 1.089-2.145 2.8v5.106H9.708V9.388zm-5.5 10.403h3.208V9.25H4.208v10.54zM7.875 5.812a2.063 2.063 0 1 1-4.125 0 2.063 2.063 0 0 1 4.125 0z"></path></svg></a>

		<a class="icon dark:border-gray-100 dark:text-gray-100 svelte-v3mbcg" href="https://codepen.io/am-77"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke-width="2"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.372.19c.38-.253.875-.253 1.256 0L23.492 7.4c.317.21.508.565.508.946v7.308c0 .38-.19.736-.508.947l-10.864 7.21c-.38.252-.875.252-1.256 0L.508 16.6A1.136 1.136 0 0 1 0 15.654V8.346c0-.38.19-.736.508-.947L11.372.19zm-9.1 10.273v3.058l2.288-1.54-2.288-1.518zm4.337 2.878L3.18 15.648l7.684 5.1v-4.583L6.61 13.341zm6.527 2.824v4.582l7.684-5.1-3.43-2.306-4.254 2.824zm6.303-4.183l2.29 1.54v-3.06l-2.29 1.52zm1.371-3.636l-3.41 2.263-4.264-2.868V3.253l7.674 5.093zm-9.946-5.093V7.74l-4.263 2.868L3.19 8.346l7.674-5.093zM12 9.715l-3.35 2.254L12 14.192l3.35-2.223L12 9.715z"></path></svg></a>

		<a class="icon dark:border-gray-100 dark:text-gray-100 svelte-v3mbcg" href="https://stackoverflow.com/users/10564525"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke-width="2"><path d="M18.372 20.222v-5.358h1.79V22H4v-7.136h1.79v5.358h12.582z"></path><path d="M7.768 14.356l8.79 1.824.372-1.755L8.14 12.6l-.372 1.756zm1.162-4.157l8.14 3.764.744-1.617-8.14-3.787-.744 1.64zm2.256-3.973l6.907 5.705 1.14-1.363-6.907-5.704-1.14 1.362zM15.651 2L14.21 3.062l5.35 7.16L21 9.159 15.651 2zm-8.07 16.42h8.977v-1.778H7.581v1.778z"></path></svg></a></div>

	<div class="flex items-center justify-center px-4 h-12 border-l border-gray-900 dark:border-gray-100"><span class="text-xs text-gray-900 dark:text-gray-100 font-syne font-medium capitalize">¬© 2023 amine griche
		</span></div>
</div></div></div></div></div>


			
			<script>
				{
					__sveltekit_lbzuj6 = {
						base: new URL("..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("../_app/immutable/entry/start.e38b7577.js"),
						import("../_app/immutable/entry/app.32a55fea.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 4],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
